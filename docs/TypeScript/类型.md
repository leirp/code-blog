

# 基本类型

##  基本类型

### 数字类型

数字类型使用关键字number 来表示，它可以用来表示整数和分数。

```typescript
let binaryLiteral: number = 0b1010; // 二进制
let octalLiteral: number = 0o744;    // 八进制
let decLiteral: number = 6;    // 十进制
let hexLiteral: number = 0xf00d;    // 十六进制
```

### 字符串类型

字符串类型使用关键字string 来表示，一个字符系列，使用单引号（**'**）或双引号（**"**）来表示字符串类型。反引号（**`**）来定义多行文本和内嵌表达式。

```typescript
let name: string = "Runoob";
let years: number = 5;
let words: string = `您好，今年是 ${ name } 发布 ${ years + 1} 周年`;
```

### 布尔类型

布尔类型使用关键字  `boolean` 表示逻辑值 `true`和`false`

```typescript
let fag:boolean = true
```

### 数组类型

```typescript
// 在元素类型后面加上[]
let arr: number[] = [1, 2];

// 或者使用数组泛型
let arr: Array<number> = [1, 2];
```

### 对象类型

```
function printName(obj:{first:string,last?: string}) {
  console.log(obj.first)
  if (obj.last !== undefined) {
    console.log(obj.last.toLocaleLowerCase())
  }
  console.log(obj.last?.toLocaleLowerCase())
}
```

- 对象类型不能传入其他额外的属性
- 如果对象的某个值是可选的，那么他可以不传值，如果传值，则必须符合其定义的类型
- 可选值可用 `if` 判断，也可使用es6 可选链

### 元组

元组类型用来表示已知元素数量和类型的数组，各元素的类型不必相同，对应位置的类型需要相同。

```javascript
let x: [string, number];
x = ['Runoob', 1];    // 运行正常
x = [1, 'Runoob'];    // 报错
console.log(x[0]);    // 输出 Runoob
```

### 枚举类型

枚举类型用于定义数值集合。使用关键字 `enum`

```typescript
	
enum Color {Red, Green, Blue};
let c: Color = Color.Blue;
console.log(c);    // 输出 2
```

### void

用于标识方法返回值的类型，表示该方法没有返回值。

```javascript
function hello(): void {
    alert("Hello Runoob");
}
```

### null 和 undefined

对象缺失使用null 值定义，在 JavaScript 中 null 表示 "什么都没有"。null是一个只有一个值的特殊类型。表示一个空对象引用。用 typeof 检测 null 返回是 object。

undefined 用于初始化变量为一个未定义的值。在 JavaScript 中, undefined 是一个没有设置值的变量。typeof 一个没有值的变量会返回 undefined。Null 和 Undefined 是其他任何类型（包括 void）的子类型，可以赋值给其它类型，如数字类型，此时，赋值后的类型会变成 null 或 undefined。而在TypeScript中启用严格的空校验（--strictNullChecks）特性，就可以使得null 和 undefined 只能被赋值给 void 或本身对应的类型，示例代码如下：

```typescript
// 启用 --strictNullChecks
let x: number;
x = 1; // 运行正确
x = undefined;    // 运行错误
x = null;    // 运行错误
```

上面的例子中变量 x 只能是数字类型。如果一个类型可能出现 null 或 undefined， 可以用 | 来支持多种类型，示例代码如下：

```typescript
// 启用 --strictNullChecks
let x: number | null | undefined;
x = 1; // 运行正确
x = undefined;    // 运行正确
x = null;    // 运行正确
```

### never 

never 是其它类型（包括 null 和 undefined）的子类型，代表从不会出现的值。

### any

任意值是 TypeScript 针对编程时类型不明确的变量使用的一种数据类型，它常用于以下三种情况。

变量的值会动态改变时，比如来自用户的输入，任意值类型可以让这些变量跳过编译阶段的类型检查，示例代码如下：

```typescript
let x: any = 1;    // 数字类型
x = 'I am who I am';    // 字符串类型
x = false;    // 布尔类型
```

改写现有代码时，任意值允许在编译时可选择地包含或移除类型检查，示例代码如下：

```typescript
let x: any = 4;
x.ifItExists();    // 正确，ifItExists方法在运行时可能存在，但这里并不会检查
x.toFixed();    // 正确
```

定义存储各种类型数据的数组时，示例代码如下：

```typescript
let arrayList: any[] = [1, false, 'fine'];
arrayList[1] = 100;
```



### 联合类型

```typescript
let a:number|string = "abc"
a = 123
```

当使用联合类型注释时，使用某个方法但其中一个类型没有这个方法时，typescript 编译时会报错，所以此时必须先判断类型

```typescript
function printValue(val:string|number):void {
    if (typeof val === "string") {
        console.log(val.toLocaleUpperCase())
    }
}
```

## 类型别名

使用类型别名可以给需要定义的类型起一个别名，然后在声明时使用，使用 `type` 关键字来使用类型别名

```typescript
type Point = {
	x: number,
	y: number
}

function printCoord(pt: Point) {
	
}
```

类型别名可以扩展

```typescript
type Animal = {
	name: string
    age:number
}

type Bear = Animal & {
	honey:boolean
    name: number
}

const bear: Bear = {
	name: "winnie",
	honey: true,
    age: 18
    
}


```



## 变量声明

### 显式声明

```
let [变量名] : [类型] = 值;
```

```
let str: string = "abcdefg"
let num: number = 123456
let fag: boolean = true
let xarr:number[] = [1,2,3,4,5]
let yarr: string[] = ["a","b"]
```

###  隐式声明

当声明变量时不传入变量的类型，typescript 会根据声明的值隐式的判断出变量的类型

```
let a = "hello world!" // 会自动判断为字符串类型
a = 123  // 报错，因为前面已经判断为字符串类型
```

### 

## 函数

基本声明：

```typescript
 function greet(){
     return "hello world"
 }
```

指定返回值类型注释

```javascript
// 函数定义
function greet():string { // 返回一个字符串
    return "Hello World" 
} 

function greet():string{
    return 123  // 如果返回的类型与指定的返回值类型不同，则会报错
}

```

无返回值：使用 void

```javascript
// 函数定义
function greet():void { // void 代表函数没有返回值
    console.log("hello world")
} 

function greet():void{
    return 123  // 如果指定了 void 但是有返回值，则会报错
}

```

指定参数类型注释

```typescript
function greet(name:string):string{
    return name+"world"
}
```

传递对象类型

```typescript
function printCoord(pt:{x:number,y:number}):void{
    console.log("坐标的x轴是",pt.x)
    console.log("坐标的x轴是",pt.y)
}
```

可选参数：

```typescript
function printName(obj:{firstName:string,lastName?:string}) {
    console.log(obj.firstName)
    // console.log(obj.lastName.toLocaleUpperCase()) // 必须得判断obj.lastName 是否存在才能调用字符串方法，不然会报错

    if (obj.lastName !== undefined) {
        console.log(obj.lastName.toLocaleUpperCase())
    }
    // 或使用可选链（es6）
    console.log(obj.lastName?.toLocaleUpperCase())

}

function printName1(firstName:string,lastName?:string):void{
    if (lastName !== undefined) {
        console.log(lastName.toLocaleUpperCase())
    }
    // 或
    console.log(lastName?.toLocaleUpperCase())
}
```




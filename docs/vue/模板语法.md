# 模板语法

## Mustache 语法

+ mustache是胡须的意思，因为{{}}像胡须，又叫大括号语法。

+ 插值语法用于解析标签体内的内容

+ 在vue对象挂载的dom元素中，{{}}不仅可以直接写变量，还可以写js 表达式。

+ 示例

  ```html
  <h2>{{message}}</h2>
  <h2>{{message}},啧啧啧</h2>
  <!-- Mustache的语法不仅可以直接写变量，还可以写简单表达式 -->
  <h2>{{firstName + lastName}}</h2>
  <h2>{{firstName + " " + lastName}}</h2>
  <h2>{{firstName}}{{lastName}}</h2>
  <h2>{{count * 2}}</h2>
  <div>{{name.toLowerCase()}}</div>
  ```

## 指令语法

用于解析标签属性，标签体内容， 绑定事件等，一般形式为 v-xxx

###  v-bind

v-bind 用来动态的解析标签体属性

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>v-bind的基本使用</title>
</head>
<body>
  <div id="app">
	<!-- 错误的做法这里不能使用Mustache语法 -->
	<!-- <img v-bind:src="{{imgURL}}" alt=""> -->
	<!-- 正确的做法使用v-bind指令 -->
	<img v-bind:src="imgURL" alt="">
	<a v-bind:href="aHerf"></a>
	<!-- 语法糖写法 -->
	<img :src="imgURL" alt="">
	<a :href="aHerf"></a>
      <!-- 使用v-bind 与插值语法一样  也可以执行一些js 语句-->
	<span :date="new Date()"></a>
    <span :n="name.toLowerCase()"></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
  <script>
	const app = new Vue({
	  el:"#app",
	  data:{
		message:"你好啊",
         name: "Leirp"
		imgURL:"https://cn.bing.com/th?id=OIP.NaSKiHPRcquisK2EehUI3gHaE8&pid=Api&rs=1",
		aHerf:"http://www.baidu.com"
	  }
	})
  </script>
</body>
</html>
```



### v-once

v-once表示该dom元素只渲染一次，之后数据改变，不会再次渲染。

```html
<div id="app">
    <h2>{{message}}</h2>
    <!-- 只会渲染一次，数据改变不会再次渲染 -->
    <h2 v-once>{{message}}</h2>	
</div>
```

### v-html

在某些时候我们不希望直接输出`<a href='http://www.baidu.com'>百度一下</a>`这样的字符串，而输出被html自己转化的超链接。此时可以使用v-html。

```vue
<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>v-html指令的使用</title>
</head>
    <body>
        <div id="app">
            <h2>不使用v-html</h2>
            <h2>{{url}}</h2>
            <h2>使用v-html，直接插入html</h2>
            <h2 v-html="url"></h2>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
        <script>
            const app = new Vue({
            el:"#app",
            data:{
            message:"你好啊",
            url:"<a href='http://www.baidu.com'>百度一下</a>"
            }
            })
        </script>
    </body>
</html>
```

###  v-text

 v-text会覆盖dom元素中的数据

```vue
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>v-text指令的使用</title>
</head>
    <body>
        <div id="app">
            <h2>不使用v-text</h2>
            <h2>{{message}}，啧啧啧</h2>
            <h2>使用v-text，以文本形式显示,会覆盖</h2>
            <h2 v-text="message">，啧啧啧</h2>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
        <script>
            const app = new Vue({
            el:"#app",
            data:{
            message:"你好啊"
            }
            })
        </script>
    </body>
</html>

```

###  v-pre

有时候我们期望直接输出`{{message}}`这样的字符串，而不是被`{{}}`语法转化的`message`的变量值，此时我们可以使用v-pre标签。

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>v-pre指令的使用</title>
</head>
<body>
    <div id="app">
        <h2>不使用v-pre</h2>
        <h2>{{message}}</h2>
        <h2>使用v-pre,不会解析</h2>
        <h2 v-pre>{{message}}</h2>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script>
        const app = new Vue({
        el:"#app",
        data:{
        message:"你好啊"
        }
        })
    </script>
</body>
</html>

```

### v-cloak

有时候因为加载延时问题，例如卡掉了，数据没有及时刷新，就造成了页面显示从{{message}}到message变量“你好啊”的变化，这样闪动的变化，会造成用户体验不好。此时需要使用到v-cloak的这个标签。在vue解析之前，div属性中有v-cloak这个标签，在vue解析完成之后，v-cloak标签被移除。简单，类似div开始有一个css属性display:none;，加载完成之后，css属性变成display:block，元素显示出来。

实例通过延时1秒模拟加载卡住的状态，结果一开始不显示message的值，div元素中有v-cloak的属性，1秒后显示message变量的值，div中的v-cloak元素被移除。

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>v-cloak指令的使用</title>
  <style>
	[v-cloak]{
	  display: none;
	}
  </style>
</head>

<body>
  <div id="app" v-cloak>
	<h2>{{message}}</h2>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
  <script>
	//在vue解析前，div中有一个属性cloak
	//在vue解析之后，div中没有一个属性v-cloak
	setTimeout(() => {
	  const app = new Vue({
		el: "#app",
		data: {
		  message: "你好啊"
		}
	  })
	}, 1000);
  </script>
</body>

```


# 数组

## 数组

数组是一个对象，它包含了一组固定数量的元素，并且这些元素的类型是相同的。数组会按照索引的方式将元素放在指定的位置上，意味着我们可以通过索引来访问这些元素。在 Java 中，索引是从 0 开始的。

### 数组的声明与初始化

#### 声明

```
int[] anArray;
int anOtherArray[];
```

#### 初始化

```
int[] anArray = new int[10];
int anOtherArray[] = new int[] {1, 2, 3, 4, 5};
int[] age = {12, 4, 5, 2, 5};
```

通过上面的第一种方式，数组中的每个元素都会被初始化为默认值，int 类型的就为 0，Object 类型的就为 null。 不同数据类型的默认值不同

### 数组常用操作

##### 取值与赋值

```java
int[] intArray = {1,2,3,4,5,6};
System.out.println(intArray[3]);
intArray[3] = 10;
System.out.println(intArray[3]);
```

如果索引的值超出了数组的界限，就会抛出 `ArrayIndexOutOfBoundException`。

##### 使用for 循环

```java
int[] intArray = {1,2,3,4,5,6};
for (int i = 0; i < intArray.length; i++) {
    System.out.println(intArray[i]);
}
// 或增强型for循环(for each 循环)
int[] intArray = {1,2,3,4,5,6};
for (int i = 0; i < intArray.length; i++) {
   System.out.println(intArray[i]);
}
```

### 可变参数

Java 的可变参数本质上是**数组的语法糖**。编译器会将可变参数自动转换为数组处理。例如：

```java
public void printNumbers(int... numbers)
// 等价于
public void printNumbers(int[] numbers)
```

调用 `printNumbers(1, 2, 3)` 时，编译器会自动创建一个 `int[] {1, 2, 3}` 作为参数传递。

### 数组与List

在 Java 中，数组与 List 关系非常密切。List 封装了很多常用的方法，方便我们对集合进行一些操作，所以有时候我们需要把数组转成 List。

```java
        Integer[] intArray = {1,2,3,4,5,6};
        List<Integer> aList = new ArrayList<>();
        for (int j : intArray) {
            aList.add(j);
        }
        // or
        List<Integer> bList = Arrays.asList(intArray);
```

### 数组排序与查找

#### 排序

想对数组进行排序，可以使用 Arrays 类提供的 `sort()` 方法。

```java
int[] a = {1,3,9,8,1,6,7};
       Arrays.sort(a);
       System.out.println(Arrays.toString(a));

String[] yetAnotherArray = new String[] {"A", "E", "Z", "B", "C"};
Arrays.sort(yetAnotherArray, 1, 3,
                Comparator.comparing(String::toString).reversed());
```

#### 查找

要从数组中查找某个具体的元素，最直接的方式就是通过遍历的方式：

```
int[] a = {1,3,9,8,1,6,7};
       for (int i = 0; i< a.length; i++) {
           if (a[i] == 8) {
               System.out.println(i);
               break;
           }
       }
```

如果数组提前进行了排序，就可以使用二分查找法，这样效率就会更高一些。`Arrays.binarySearch()` 方法可供我们使用，它需要传递一个数组，和要查找的元素。

```
int[] anArray = new int[] {1, 2, 3, 4, 5};
int index = Arrays.binarySearch(anArray, 4);
```

 `Arrays.copyOfRange()` 方法用来复制数组的，它底层调用的是 `System.arraycopy()` 方法，这个方法是一个 [native 方法](https://javabetter.cn/oo/native-method.html)，它是用 C/C++ 实现，效率非常高。用法如下所示：

```
int[] a = {1,3,9,8,1,6,7};
int[] b = Arrays.copyOfRange(a,0,a.length-1);
System.out.println(Arrays.toString(b));
```



